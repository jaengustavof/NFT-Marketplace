{"ast":null,"code":"import _regeneratorRuntime from \"/home/gustavo/blockchain/Marketplace/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/gustavo/blockchain/Marketplace/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { configure } from '../lib/configure.js';\nimport { resolve } from '../lib/resolve.js';\nimport first from 'it-first';\nimport last from 'it-last';\nimport errCode from 'err-code';\nimport { createGet as createBlockGet } from '../block/get.js';\nexport var createGet = function createGet(codecs, options) {\n  var fn = configure(function (api, opts) {\n    var getBlock = createBlockGet(opts);\n    var get = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(cid) {\n        var options,\n          entry,\n          result,\n          codec,\n          block,\n          node,\n          _args = arguments;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n              if (!options.path) {\n                _context.next = 16;\n                break;\n              }\n              if (!options.localResolve) {\n                _context.next = 8;\n                break;\n              }\n              _context.next = 5;\n              return first(resolve(cid, options.path, codecs, getBlock, options));\n            case 5:\n              _context.t0 = _context.sent;\n              _context.next = 11;\n              break;\n            case 8:\n              _context.next = 10;\n              return last(resolve(cid, options.path, codecs, getBlock, options));\n            case 10:\n              _context.t0 = _context.sent;\n            case 11:\n              entry = _context.t0;\n              result = entry;\n              if (result) {\n                _context.next = 15;\n                break;\n              }\n              throw errCode(new Error('Not found'), 'ERR_NOT_FOUND');\n            case 15:\n              return _context.abrupt(\"return\", result);\n            case 16:\n              _context.next = 18;\n              return codecs.getCodec(cid.code);\n            case 18:\n              codec = _context.sent;\n              _context.next = 21;\n              return getBlock(cid, options);\n            case 21:\n              block = _context.sent;\n              node = codec.decode(block);\n              return _context.abrupt(\"return\", {\n                value: node,\n                remainderPath: ''\n              });\n            case 24:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function get(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    return get;\n  });\n  return fn(options);\n};","map":{"version":3,"names":["configure","resolve","first","last","errCode","createGet","createBlockGet","codecs","options","fn","api","opts","getBlock","get","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","cid","entry","result","codec","block","node","_args","arguments","wrap","_callee$","_context","prev","next","length","undefined","path","localResolve","t0","sent","Error","abrupt","getCodec","code","decode","value","remainderPath","stop","_x","apply"],"sources":["/home/gustavo/blockchain/Marketplace/node_modules/ipfs-http-client/esm/src/dag/get.js"],"sourcesContent":["import { configure } from '../lib/configure.js';\nimport { resolve } from '../lib/resolve.js';\nimport first from 'it-first';\nimport last from 'it-last';\nimport errCode from 'err-code';\nimport { createGet as createBlockGet } from '../block/get.js';\nexport const createGet = (codecs, options) => {\n  const fn = configure((api, opts) => {\n    const getBlock = createBlockGet(opts);\n    const get = async (cid, options = {}) => {\n      if (options.path) {\n        const entry = options.localResolve ? await first(resolve(cid, options.path, codecs, getBlock, options)) : await last(resolve(cid, options.path, codecs, getBlock, options));\n        const result = entry;\n        if (!result) {\n          throw errCode(new Error('Not found'), 'ERR_NOT_FOUND');\n        }\n        return result;\n      }\n      const codec = await codecs.getCodec(cid.code);\n      const block = await getBlock(cid, options);\n      const node = codec.decode(block);\n      return {\n        value: node,\n        remainderPath: ''\n      };\n    };\n    return get;\n  });\n  return fn(options);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}