{"ast":null,"code":"'use strict';\n\nconst HTTP = require('../http');\n\n/**\n *\n * @param {string} url\n * @param {import(\"../types\").HTTPOptions} [options]\n * @returns {{ path: string; content?: AsyncIterable<Uint8Array> }}\n */\nconst urlSource = (url, options) => {\n  return {\n    path: decodeURIComponent(new URL(url).pathname.split('/').pop() || ''),\n    content: readURLContent(url, options)\n  };\n};\n\n/**\n *\n * @param {string} url\n * @param {import(\"../types\").HTTPOptions} [options]\n * @returns {AsyncIterable<Uint8Array>}\n */\nasync function* readURLContent(url, options) {\n  const http = new HTTP();\n  const response = await http.get(url, options);\n  yield* response.iterator();\n}\nmodule.exports = urlSource;","map":{"version":3,"names":["HTTP","require","urlSource","url","options","path","decodeURIComponent","URL","pathname","split","pop","content","readURLContent","http","response","get","iterator","module","exports"],"sources":["/home/gustavo/blockchain/Marketplace/node_modules/ipfs-utils/src/files/url-source.js"],"sourcesContent":["'use strict'\n\nconst HTTP = require('../http')\n\n/**\n *\n * @param {string} url\n * @param {import(\"../types\").HTTPOptions} [options]\n * @returns {{ path: string; content?: AsyncIterable<Uint8Array> }}\n */\nconst urlSource = (url, options) => {\n  return {\n    path: decodeURIComponent(new URL(url).pathname.split('/').pop() || ''),\n    content: readURLContent(url, options)\n  }\n}\n\n/**\n *\n * @param {string} url\n * @param {import(\"../types\").HTTPOptions} [options]\n * @returns {AsyncIterable<Uint8Array>}\n */\nasync function * readURLContent (url, options) {\n  const http = new HTTP()\n  const response = await http.get(url, options)\n\n  yield * response.iterator()\n}\n\nmodule.exports = urlSource\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,IAAI,GAAGC,OAAO,CAAC,SAAS,CAAC;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,SAAS,GAAGA,CAACC,GAAG,EAAEC,OAAO,KAAK;EAClC,OAAO;IACLC,IAAI,EAAEC,kBAAkB,CAAC,IAAIC,GAAG,CAACJ,GAAG,CAAC,CAACK,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;IACtEC,OAAO,EAAEC,cAAc,CAACT,GAAG,EAAEC,OAAO;EACtC,CAAC;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,gBAAiBQ,cAAcA,CAAET,GAAG,EAAEC,OAAO,EAAE;EAC7C,MAAMS,IAAI,GAAG,IAAIb,IAAI,CAAC,CAAC;EACvB,MAAMc,QAAQ,GAAG,MAAMD,IAAI,CAACE,GAAG,CAACZ,GAAG,EAAEC,OAAO,CAAC;EAE7C,OAAQU,QAAQ,CAACE,QAAQ,CAAC,CAAC;AAC7B;AAEAC,MAAM,CAACC,OAAO,GAAGhB,SAAS"},"metadata":{},"sourceType":"script","externalDependencies":[]}