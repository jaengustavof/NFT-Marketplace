{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/home/gustavo/blockchain/Marketplace/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _wrapAsyncGenerator = require(\"/home/gustavo/blockchain/Marketplace/node_modules/@babel/runtime/helpers/wrapAsyncGenerator.js\").default;\nvar _awaitAsyncGenerator = require(\"/home/gustavo/blockchain/Marketplace/node_modules/@babel/runtime/helpers/awaitAsyncGenerator.js\").default;\nvar _asyncGeneratorDelegate = require(\"/home/gustavo/blockchain/Marketplace/node_modules/@babel/runtime/helpers/asyncGeneratorDelegate.js\").default;\nvar _asyncIterator = require(\"/home/gustavo/blockchain/Marketplace/node_modules/@babel/runtime/helpers/asyncIterator.js\").default;\nvar HTTP = require('../http');\n\n/**\n *\n * @param {string} url\n * @param {import(\"../types\").HTTPOptions} [options]\n * @returns {{ path: string; content?: AsyncIterable<Uint8Array> }}\n */\nvar urlSource = function urlSource(url, options) {\n  return {\n    path: decodeURIComponent(new URL(url).pathname.split('/').pop() || ''),\n    content: readURLContent(url, options)\n  };\n};\n\n/**\n *\n * @param {string} url\n * @param {import(\"../types\").HTTPOptions} [options]\n * @returns {AsyncIterable<Uint8Array>}\n */\nfunction readURLContent(_x, _x2) {\n  return _readURLContent.apply(this, arguments);\n}\nfunction _readURLContent() {\n  _readURLContent = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(url, options) {\n    var http, response;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          http = new HTTP();\n          _context.next = 3;\n          return _awaitAsyncGenerator(http.get(url, options));\n        case 3:\n          response = _context.sent;\n          return _context.delegateYield(_asyncGeneratorDelegate(_asyncIterator(response.iterator()), _awaitAsyncGenerator), \"t0\", 5);\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _readURLContent.apply(this, arguments);\n}\nmodule.exports = urlSource;","map":{"version":3,"names":["_regeneratorRuntime","require","default","_wrapAsyncGenerator","_awaitAsyncGenerator","_asyncGeneratorDelegate","_asyncIterator","HTTP","urlSource","url","options","path","decodeURIComponent","URL","pathname","split","pop","content","readURLContent","_x","_x2","_readURLContent","apply","arguments","mark","_callee","http","response","wrap","_callee$","_context","prev","next","get","sent","delegateYield","iterator","stop","module","exports"],"sources":["/home/gustavo/blockchain/Marketplace/node_modules/ipfs-utils/src/files/url-source.js"],"sourcesContent":["'use strict'\n\nconst HTTP = require('../http')\n\n/**\n *\n * @param {string} url\n * @param {import(\"../types\").HTTPOptions} [options]\n * @returns {{ path: string; content?: AsyncIterable<Uint8Array> }}\n */\nconst urlSource = (url, options) => {\n  return {\n    path: decodeURIComponent(new URL(url).pathname.split('/').pop() || ''),\n    content: readURLContent(url, options)\n  }\n}\n\n/**\n *\n * @param {string} url\n * @param {import(\"../types\").HTTPOptions} [options]\n * @returns {AsyncIterable<Uint8Array>}\n */\nasync function * readURLContent (url, options) {\n  const http = new HTTP()\n  const response = await http.get(url, options)\n\n  yield * response.iterator()\n}\n\nmodule.exports = urlSource\n"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,mBAAA,GAAAC,OAAA,mGAAAC,OAAA;AAAA,IAAAC,mBAAA,GAAAF,OAAA,mGAAAC,OAAA;AAAA,IAAAE,oBAAA,GAAAH,OAAA,oGAAAC,OAAA;AAAA,IAAAG,uBAAA,GAAAJ,OAAA,uGAAAC,OAAA;AAAA,IAAAI,cAAA,GAAAL,OAAA,8FAAAC,OAAA;AAEZ,IAAMK,IAAI,GAAGN,OAAO,CAAC,SAAS,CAAC;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA,IAAMO,SAAS,GAAG,SAAZA,SAASA,CAAIC,GAAG,EAAEC,OAAO,EAAK;EAClC,OAAO;IACLC,IAAI,EAAEC,kBAAkB,CAAC,IAAIC,GAAG,CAACJ,GAAG,CAAC,CAACK,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;IACtEC,OAAO,EAAEC,cAAc,CAACT,GAAG,EAAEC,OAAO;EACtC,CAAC;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AALA,SAMiBQ,cAAcA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,eAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,gBAAA;EAAAA,eAAA,GAAAlB,mBAAA,eAAAH,mBAAA,GAAAwB,IAAA,CAA/B,SAAAC,QAAiChB,GAAG,EAAEC,OAAO;IAAA,IAAAgB,IAAA,EAAAC,QAAA;IAAA,OAAA3B,mBAAA,GAAA4B,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACrCN,IAAI,GAAG,IAAInB,IAAI,CAAC,CAAC;UAAAuB,QAAA,CAAAE,IAAA;UAAA,OAAA5B,oBAAA,CACAsB,IAAI,CAACO,GAAG,CAACxB,GAAG,EAAEC,OAAO,CAAC;QAAA;UAAvCiB,QAAQ,GAAAG,QAAA,CAAAI,IAAA;UAEd,OAAAJ,QAAA,CAAAK,aAAA,CAAA9B,uBAAA,CAAAC,cAAA,CAAQqB,QAAQ,CAACS,QAAQ,CAAC,CAAC,GAAAhC,oBAAA;QAAA;QAAA;UAAA,OAAA0B,QAAA,CAAAO,IAAA;MAAA;IAAA,GAAAZ,OAAA;EAAA,CAC5B;EAAA,OAAAJ,eAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAEDe,MAAM,CAACC,OAAO,GAAG/B,SAAS"},"metadata":{},"sourceType":"script","externalDependencies":[]}